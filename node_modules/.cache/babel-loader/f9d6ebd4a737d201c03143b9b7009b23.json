{"ast":null,"code":"import _regeneratorRuntime from\"/Users/azuco2/Desktop/ali/azu_dashbord/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/azuco2/Desktop/ali/azu_dashbord/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _classCallCheck from\"/Users/azuco2/Desktop/ali/azu_dashbord/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/azuco2/Desktop/ali/azu_dashbord/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/Users/azuco2/Desktop/ali/azu_dashbord/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/Users/azuco2/Desktop/ali/azu_dashbord/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React,{Component}from'react';import{getBlogs,addBlog,updateBlog,getBlog}from'../../url/const';import Blogs from'../../td_file/blog';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var Blog=/*#__PURE__*/function(_Component){_inherits(Blog,_Component);var _super=_createSuper(Blog);function Blog(){var _this;_classCallCheck(this,Blog);_this=_super.call(this);_this.state={num:1,fields:[1],spic:[],error:null,isLoaded:false,items:[]};return _this;}_createClass(Blog,[{key:\"componentDidMount\",value:function(){var _componentDidMount=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response,json;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(getBlogs,{headers:{\"Authorization\":\"\".concat(localStorage.getItem(\"token\"))}});case 2:response=_context.sent;_context.next=5;return response.json();case 5:json=_context.sent;this.setState({items:json});console.log(json);case 8:case\"end\":return _context.stop();}}},_callee,this);}));function componentDidMount(){return _componentDidMount.apply(this,arguments);}return componentDidMount;}()},{key:\"render\",value:function render(){var _this2=this;return/*#__PURE__*/_jsxs(\"div\",{className:\"head\",id:\"ans\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"title\",children:\"blog page\"}),/*#__PURE__*/_jsxs(\"table\",{children:[/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"document Id\"}),/*#__PURE__*/_jsx(\"th\",{children:\"title\"}),/*#__PURE__*/_jsx(\"th\",{children:\"img\"}),/*#__PURE__*/_jsx(\"th\",{children:\"source\"}),/*#__PURE__*/_jsx(\"th\",{children:\"wirtten By\"}),/*#__PURE__*/_jsx(\"th\",{children:\"date\"})]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsxs(\"td\",{children:[\" \",/*#__PURE__*/_jsxs(\"span\",{className:\"flex\",children:[\" \",/*#__PURE__*/_jsx(\"input\",{className:\"input\",id:\"blogid\",onChange:function onChange(e){document.querySelector(\"#updatblog\").innerHTML=\"<button onClick={updatBlog('blogid','blogtitle','blogimg','blogsource','blogwritter','blogdate','blogbpdy','\".concat(getBlog(),\"','\").concat(updateBlog(),\"')} class=\\\"save\\\">save update</button>\");}})]}),\" \"]}),/*#__PURE__*/_jsxs(\"td\",{children:[\" \",/*#__PURE__*/_jsx(\"span\",{className:\"flex\",children:/*#__PURE__*/_jsx(\"input\",{id:\"blogtitle\",className:\"input\",onChange:function onChange(e){return _this2.setState({title:e.target.value});}})}),\" \"]}),/*#__PURE__*/_jsxs(\"td\",{children:[\" \",/*#__PURE__*/_jsx(\"span\",{className:\"flex\",children:/*#__PURE__*/_jsx(\"input\",{id:\"blogimg\",className:\"input\",onChange:function onChange(e){return _this2.setState({img:e.target.value});}})}),\" \"]}),/*#__PURE__*/_jsxs(\"td\",{children:[\" \",/*#__PURE__*/_jsx(\"span\",{className:\"flex\",children:/*#__PURE__*/_jsx(\"input\",{id:\"blogsource\",className:\"input\",onChange:function onChange(e){return _this2.setState({source:e.target.value});}})}),\" \"]}),/*#__PURE__*/_jsxs(\"td\",{children:[\" \",/*#__PURE__*/_jsx(\"span\",{className:\"flex\",children:/*#__PURE__*/_jsx(\"input\",{id:\"blogwritter\",className:\"input\",onChange:function onChange(e){return _this2.setState({writter:e.target.value});}})}),\" \"]}),/*#__PURE__*/_jsxs(\"td\",{children:[\" \",/*#__PURE__*/_jsx(\"span\",{className:\"flex\",children:/*#__PURE__*/_jsx(\"input\",{id:\"blogdate\",type:\"datetime-local\",className:\"input\",onChange:function onChange(e){return _this2.setState({date:e.target.value});}})}),\" \"]})]})]}),/*#__PURE__*/_jsxs(\"table\",{children:[/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"th\",{children:\"body\"})}),/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsxs(\"td\",{children:[\" \",/*#__PURE__*/_jsx(\"span\",{className:\"flex\",children:/*#__PURE__*/_jsx(\"textarea\",{id:\"blogbpdy\",onChange:function onChange(e){return _this2.setState({body:e.target.value});},className:\"input1\"})}),\" \"]})}),/*#__PURE__*/_jsx(\"button\",{className:\"save\",onClick:function onClick(){var body=JSON.stringify({body:_this2.state.body,title:_this2.state.title,image:_this2.state.img,writter:_this2.state.writter,source:_this2.state.source,date:_this2.state.date});console.log(body);var json=fetch(addBlog,{method:'post',headers:{'Content-Type':'application/json',\"Authorization\":\"\".concat(localStorage.getItem(\"token\"))},body:body}).then(function(res){console.log(res.status);if(res.status==400){var x=document.getElementById(\"snackbar\");x.innerHTML='failed please make sur that every field is fill ';x.className=\"showError\";setTimeout(function(){x.className=x.className.replace(\"showError\",\"\");},3000);}else if(res.status==404){var x=document.getElementById(\"snackbar\");x.innerHTML='failed to connect';x.className=\"showError\";setTimeout(function(){x.className=x.className.replace(\"showError\",\"\");},3000);}else{var x=document.getElementById(\"snackbar\");x.innerHTML='the blog is added successfully';x.className=\"showw\";setTimeout(function(){x.className=x.className.replace(\"showw\",\"\");},3000);window.location.reload();}});},children:\"Add blog\"}),/*#__PURE__*/_jsx(\"div\",{id:\"updatblog\"})]}),/*#__PURE__*/_jsx(\"h1\",{className:\"title\",children:\"blog page\"}),/*#__PURE__*/_jsxs(\"table\",{children:[/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Id\"}),/*#__PURE__*/_jsx(\"th\",{children:\"title\"}),/*#__PURE__*/_jsx(\"th\",{children:\"more information\"}),/*#__PURE__*/_jsx(\"th\",{children:\"remove\"})]}),this.state.items.map(function(e){return/*#__PURE__*/_jsx(Blogs,{id:e['_id'],title:e['title'],body:e['body'],img:e['image'],source:e['source'],wirtten_By:e[\"writter\"],date:e[\"date\"].toString().split('T')[0]});})]})]});}}]);return Blog;}(Component);export default Blog;","map":{"version":3,"names":["React","Component","getBlogs","addBlog","updateBlog","getBlog","Blogs","Blog","state","num","fields","spic","error","isLoaded","items","fetch","headers","localStorage","getItem","response","json","setState","console","log","e","document","querySelector","innerHTML","title","target","value","img","source","writter","date","body","JSON","stringify","image","method","then","res","status","x","getElementById","className","setTimeout","replace","window","location","reload","map","toString","split"],"sources":["/Users/azuco2/Desktop/ali/azu_dashbord/src/component/pages/Blog.js"],"sourcesContent":["import React, { Component } from 'react';\nimport { getBlogs,addBlog,updateBlog,getBlog } from '../../url/const';\nimport Blogs from '../../td_file/blog';\nexport class Blog extends Component {\n\n    constructor(){\n        super()\n        this.state={\n          num:1,\n          fields:[1],\n          spic:[],\n          error: null,\n          isLoaded: false,\n          items: [],\n          \n    \n        }\n      }\n     \n    async  componentDidMount(){\n      \n      \n      const response = await fetch(getBlogs,{headers:{\n        \"Authorization\":`${localStorage.getItem(\"token\")}`\n      }});\n        const json = await response.json();\n        this.setState({ items: json });\n           console.log(json);\n    \n           \n        }\n  render() {\n    return (\n        <div className='head' id=\"ans\">\n                    <h1 className='title'>blog page</h1>\n        <table>\n        <tr>\n            <th>document Id</th>\n            <th>title</th>\n            <th>img</th>\n            <th>source</th>\n            <th>wirtten By</th>\n            <th>date</th>\n\n\n\n        </tr>\n        <tr>\n\n                    <td> <span className='flex'> <input className=\"input\" id='blogid' onChange={((e)=>{\n\ndocument.querySelector(\"#updatblog\").innerHTML=`<button onClick={updatBlog('blogid','blogtitle','blogimg','blogsource','blogwritter','blogdate','blogbpdy','${getBlog()}','${updateBlog()}')} class=\"save\">save update</button>`\n              }\n\n                )} ></input></span> </td>\n                    <td> <span className='flex'><input id='blogtitle'  className='input' onChange={e => this.setState({ title: e.target.value })}></input></span> </td>\n                    <td> <span className='flex'><input id='blogimg' className='input' onChange={e => this.setState({ img: e.target.value })}></input></span> </td>\n                    <td> <span className='flex'><input  id='blogsource' className='input' onChange={e => this.setState({ source: e.target.value })}></input></span> </td>\n                    <td> <span className='flex'><input id='blogwritter'  className='input' onChange={e => this.setState({ writter: e.target.value })}></input></span> </td>\n                    <td> <span className='flex'><input id='blogdate' type={\"datetime-local\"}  className='input'  onChange={e => this.setState({ date: e.target.value })}></input></span> </td>\n\n\n        </tr>\n        </table>\n        <table>\n        <tr>\n            <th>\n                body\n            </th>\n        </tr>\n        <tr>\n        <td> <span className='flex'><textarea id='blogbpdy'  onChange={e => this.setState({ body: e.target.value })} className='input1'></textarea></span> </td>\n\n        </tr>\n        <button className=\"save\" onClick={()=>{\n          const body=JSON.stringify({\n            \n            body:this.state.body,\n            title:this.state.title,\n            image:this.state.img,\n            writter: this.state.writter,\n            source: this.state.source,\n            date: this.state.date,\n          })\n\n\n          console.log(body);\n\n      const json = fetch(addBlog,{\n        method:'post',\n        headers: {\n          'Content-Type': 'application/json',\n            \"Authorization\":`${localStorage.getItem(\"token\")}`\n      },\n        body:body,}).then((res)=>{\n        console.log(res.status);\n        if (res.status==400) {\n          var x = document.getElementById(\"snackbar\");\n          x.innerHTML= 'failed please make sur that every field is fill '\n          x.className = \"showError\";\n        \n          setTimeout(function(){ x.className = x.className.replace(\"showError\", \"\"); }, 3000);\n          \n         \n      }else if(res.status==404){\n          var x = document.getElementById(\"snackbar\");\n          x.innerHTML= 'failed to connect'\n          \n          x.className = \"showError\";\n        \n          setTimeout(function(){ x.className = x.className.replace(\"showError\", \"\"); }, 3000);  \n      }else{\n        var x = document.getElementById(\"snackbar\");\n\n        x.innerHTML= 'the blog is added successfully'\n        x.className = \"showw\";\n      \n        setTimeout(function(){ x.className = x.className.replace(\"showw\", \"\"); }, 3000);\n        window.location.reload() \n\n       \n    }\n      })\n        }}>Add blog</button><div id='updatblog'></div>\n        </table>\n\n\n        <h1 className='title'>blog page</h1>\n        <table>\n        <tr>\n            <th>Id</th>\n            <th>title</th>\n            <th>more information</th>\n            <th>remove</th>\n\n\n        </tr>\n\n        {this.state.items.map((e)=>{\n            return <Blogs id={e['_id']} title={e['title']} body={e['body']} img={e['image']} source={e['source']} wirtten_By={e[\"writter\"]} date={e[\"date\"].toString().split('T')[0]} />\n        })}\n\n        </table>\n\n\n         </div>\n    );\n  }\n}\n\nexport default Blog;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}